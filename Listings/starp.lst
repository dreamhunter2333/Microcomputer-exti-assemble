


ARM Macro Assembler    Page 1 


    1 00000000 00000001 
                       BIT0    EQU              0X00000001
    2 00000000 00000004 
                       BIT2    EQU              0X00000004
    3 00000000 00000020 
                       BIT5    EQU              0X00000020
    4 00000000 00000100 
                       BIT8    EQU              0X00000100
    5 00000000 00000200 
                       BIT9    EQU              0X00000200
    6 00000000 00000400 
                       BIT10   EQU              0X00000400
    7 00000000 00000800 
                       BIT11   EQU              0X00000800
    8 00000000 00000100 
                       LED0    EQU              BIT8        ;LED3--PA.0
    9 00000000 00000200 
                       LED1    EQU              BIT9        ;LED1--PA.1
   10 00000000 00000400 
                       LED2    EQU              BIT10       ;LED2--PA.2
   11 00000000 00000800 
                       LED3    EQU              BIT11
   12 00000000 E000E100 
                       NVIC_ISER0
                               EQU              0xE000E100  ;bit 6 enables EXTI
                                                            0
   13 00000000 E000E404 
                       NVIC_IPR1
                               EQU              0xE000E404  ;3rd byte = EXTI0 p
                                                            riority
   14 00000000 40011400 
                       GPIOD   EQU              0X40011400  ;GPIOA µØÖ·
   15 00000000 40011400 
                       GPIOD_CRL
                               EQU              0X40011400  ;µÍÅäÖÃ¼Ä´æÆ÷
   16 00000000 40011404 
                       GPIOD_CRH
                               EQU              0X40011404  ;¸ßÅäÖÃ¼Ä´æÆ÷
   17 00000000 4001140C 
                       GPIOD_ODR
                               EQU              0X4001140C  ;Êä³ö£¬Æ«ÒÆµØÖ·0Ch
   18 00000000 40011410 
                       GPIOD_BSRR
                               EQU              0X40011410  ;µÍÖÃÎ»£¬¸ßÇå³ýÆ«ÒÆ
                                                            µØÖ·10h
   19 00000000 40011414 
                       GPIOD_BRR
                               EQU              0X40011414  ;Çå³ý£¬Æ«ÒÆµØÖ·14h
   20 00000000 00000020 
                       IOPDEN  EQU              BIT5        ;GPIOAÊ¹ÄÜÎ»
   21 00000000 00000004 
                       IOPAEN  EQU              BIT2        ;GPIOAÊ¹ÄÜÎ»
   22 00000000 40010800 
                       GPIOA   EQU              0X40010800
   23 00000000 40010800 
                       GPIOA_CRL
                               EQU              0X40010800  ;µÍÅäÖÃ¼Ä´æÆ÷
   24 00000000 40010808 
                       GPIOA_IDR



ARM Macro Assembler    Page 2 


                               EQU              0X40010808
   25 00000000 40021018 
                       RCC_APB2ENR
                               EQU              0X40021018
   26 00000000         
   27 00000000         
   28 00000000 E000E000 
                       NVIC_BASE
                               EQU              0xE000E000
   29 00000000 E000E010 
                       NVIC_SETEN
                               EQU              (NVIC_BASE + 0x0010) ;SETENA¼Ä´
                                                            æÆ÷ÕóÁÐµÄÆðÊ¼µØÖ·
   30 00000000 E000E400 
                       NVIC_IRQPRI
                               EQU              (NVIC_BASE + 0x0400) ;ÖÐ¶ÏÓÅÏÈ¼
                                                            ¶¼Ä´æÆ÷ÕóÁÐµÄÆðÊ¼µØ
                                                            Ö·
   31 00000000 E000ED08 
                       NVIC_VECTTBL
                               EQU              (NVIC_BASE + 0x0D08) ;ÏòÁ¿±íÆ«Ò
                                                            Æ¼Ä´æÆ÷µÄµØÖ·
   32 00000000 E000ED0C 
                       NVIC_AIRCR
                               EQU              (NVIC_BASE + 0x0D0C) ;Ó¦ÓÃ³ÌÐòÖ
                                                            Ð¶Ï¼°¸´Î»¿ØÖÆ¼Ä´æÆ÷
                                                            µÄµØÖ·
   33 00000000         
   34 00000000 E000E010 
                       NVIC_ST_CTRL_R
                               EQU              0xE000E010
   35 00000000 E000E014 
                       NVIC_ST_RELOAD_R
                               EQU              0xE000E014
   36 00000000 E000E018 
                       NVIC_ST_CURRENT_R
                               EQU              0xE000E018
   37 00000000         
   38 00000000 00000400 
                       Stack_Size
                               EQU              0x00000400
   39 00000000         
   40 00000000                 AREA             STACK, NOINIT, READWRITE, ALIGN
=3
   41 00000000         Stack_Mem
                               SPACE            Stack_Size
   42 00000400         __initial_sp
   43 00000400         
   44 00000400         
   45 00000400         ; <h> Heap Configuration
   46 00000400         ;   <o>  Heap Size (in Bytes) <0x0-0xFFFFFFFF:8>
   47 00000400         ; </h>
   48 00000400         
   49 00000400 00000200 
                       Heap_Size
                               EQU              0x00000200
   50 00000400         
   51 00000400                 AREA             HEAP, NOINIT, READWRITE, ALIGN=
3



ARM Macro Assembler    Page 3 


   52 00000000         __heap_base
   53 00000000         Heap_Mem
                               SPACE            Heap_Size
   54 00000200         __heap_limit
   55 00000200         
   56 00000200                 PRESERVE8
   57 00000200                 THUMB
   58 00000200         
   59 00000200         
   60 00000200         ; Vector Table Mapped to Address 0 at Reset
   61 00000200                 AREA             RESET, DATA, READONLY
   62 00000000                 EXPORT           __Vectors
   63 00000000                 EXPORT           __Vectors_End
   64 00000000                 EXPORT           __Vectors_Size
   65 00000000         
   66 00000000 00000000 
                       __Vectors
                               DCD              __initial_sp ; Top of Stack
   67 00000004 00000000        DCD              Reset_Handler ; Reset Handler
   68 00000008 00000000        DCD              NMI_Handler ; NMI Handler
   69 0000000C 00000000        DCD              HardFault_Handler ; Hard Fault 
                                                            Handler
   70 00000010 00000000        DCD              MemManage_Handler 
                                                            ; MPU Fault Handler
                                                            
   71 00000014 00000000        DCD              BusFault_Handler 
                                                            ; Bus Fault Handler
                                                            
   72 00000018 00000000        DCD              UsageFault_Handler ; Usage Faul
                                                            t Handler
   73 0000001C 00000000        DCD              0           ; Reserved
   74 00000020 00000000        DCD              0           ; Reserved
   75 00000024 00000000        DCD              0           ; Reserved
   76 00000028 00000000        DCD              0           ; Reserved
   77 0000002C 00000000        DCD              SVC_Handler ; SVCall Handler
   78 00000030 00000000        DCD              DebugMon_Handler ; Debug Monito
                                                            r Handler
   79 00000034 00000000        DCD              0           ; Reserved
   80 00000038 00000000        DCD              PendSV_Handler ; PendSV Handler
                                                            
   81 0000003C 00000000        DCD              SysTick_Handler 
                                                            ; SysTick Handler
   82 00000040         
   83 00000040         ; External Interrupts
   84 00000040 00000000        DCD              WWDG_IRQHandler 
                                                            ; Window Watchdog
   85 00000044 00000000        DCD              PVD_IRQHandler ; PVD through EX
                                                            TI Line detect
   86 00000048 00000000        DCD              TAMPER_IRQHandler ; Tamper
   87 0000004C 00000000        DCD              RTC_IRQHandler ; RTC
   88 00000050 00000000        DCD              FLASH_IRQHandler ; Flash
   89 00000054 00000000        DCD              RCC_IRQHandler ; RCC
   90 00000058 00000000        DCD              EXTI0_IRQHandler ; EXTI Line 0
   91 0000005C 00000000        DCD              EXTI1_IRQHandler ; EXTI Line 1
   92 00000060 00000000        DCD              EXTI2_IRQHandler ; EXTI Line 2
   93 00000064 00000000        DCD              EXTI3_IRQHandler ; EXTI Line 3
   94 00000068 00000000        DCD              EXTI4_IRQHandler ; EXTI Line 4
   95 0000006C 00000000        DCD              DMA1_Channel1_IRQHandler 
                                                            ; DMA1 Channel 1



ARM Macro Assembler    Page 4 


   96 00000070 00000000        DCD              DMA1_Channel2_IRQHandler 
                                                            ; DMA1 Channel 2
   97 00000074 00000000        DCD              DMA1_Channel3_IRQHandler 
                                                            ; DMA1 Channel 3
   98 00000078 00000000        DCD              DMA1_Channel4_IRQHandler 
                                                            ; DMA1 Channel 4
   99 0000007C 00000000        DCD              DMA1_Channel5_IRQHandler 
                                                            ; DMA1 Channel 5
  100 00000080 00000000        DCD              DMA1_Channel6_IRQHandler 
                                                            ; DMA1 Channel 6
  101 00000084 00000000        DCD              DMA1_Channel7_IRQHandler 
                                                            ; DMA1 Channel 7
  102 00000088 00000000        DCD              ADC1_2_IRQHandler ; ADC1_2
  103 0000008C 00000000        DCD              USB_HP_CAN1_TX_IRQHandler ; USB
                                                             High Priority or C
                                                            AN1 TX
  104 00000090 00000000        DCD              USB_LP_CAN1_RX0_IRQHandler ; US
                                                            B Low  Priority or 
                                                            CAN1 RX0
  105 00000094 00000000        DCD              CAN1_RX1_IRQHandler ; CAN1 RX1
  106 00000098 00000000        DCD              CAN1_SCE_IRQHandler ; CAN1 SCE
  107 0000009C 00000000        DCD              EXTI9_5_IRQHandler 
                                                            ; EXTI Line 9..5
  108 000000A0 00000000        DCD              TIM1_BRK_IRQHandler 
                                                            ; TIM1 Break
  109 000000A4 00000000        DCD              TIM1_UP_IRQHandler 
                                                            ; TIM1 Update
  110 000000A8 00000000        DCD              TIM1_TRG_COM_IRQHandler ; TIM1 
                                                            Trigger and Commuta
                                                            tion
  111 000000AC 00000000        DCD              TIM1_CC_IRQHandler ; TIM1 Captu
                                                            re Compare
  112 000000B0 00000000        DCD              TIM2_IRQHandler ; TIM2
  113 000000B4 00000000        DCD              TIM3_IRQHandler ; TIM3
  114 000000B8 00000000        DCD              TIM4_IRQHandler ; TIM4
  115 000000BC 00000000        DCD              I2C1_EV_IRQHandler ; I2C1 Event
                                                            
  116 000000C0 00000000        DCD              I2C1_ER_IRQHandler ; I2C1 Error
                                                            
  117 000000C4 00000000        DCD              I2C2_EV_IRQHandler ; I2C2 Event
                                                            
  118 000000C8 00000000        DCD              I2C2_ER_IRQHandler ; I2C2 Error
                                                            
  119 000000CC 00000000        DCD              SPI1_IRQHandler ; SPI1
  120 000000D0 00000000        DCD              SPI2_IRQHandler ; SPI2
  121 000000D4 00000000        DCD              USART1_IRQHandler ; USART1
  122 000000D8 00000000        DCD              USART2_IRQHandler ; USART2
  123 000000DC 00000000        DCD              USART3_IRQHandler ; USART3
  124 000000E0 00000000        DCD              EXTI15_10_IRQHandler 
                                                            ; EXTI Line 15..10
  125 000000E4 00000000        DCD              RTCAlarm_IRQHandler ; RTC Alarm
                                                             through EXTI Line
  126 000000E8 00000000        DCD              USBWakeUp_IRQHandler ; USB Wake
                                                            up from suspend
  127 000000EC         __Vectors_End
  128 000000EC         
  129 000000EC 000000EC 
                       __Vectors_Size
                               EQU              __Vectors_End - __Vectors



ARM Macro Assembler    Page 5 


  130 000000EC         
  131 000000EC                 AREA             |.text|, CODE, READONLY
  132 00000000         
  133 00000000                 ENTRY
  134 00000000         ; Reset handler
  135 00000000         Reset_Handler
                               PROC
  136 00000000                 EXPORT           Reset_Handler             [WEAK
]
  137 00000000         START
  138 00000000 F000 F868       BL.W             RCC_CONFIG_72MHZ 
                                                            ;Ö¸Áî²»ÄÜ¶¥¸ñÐ´
  139 00000004 F000 F8A7       BL.W             SysTick_Init
  140 00000008 4861            LDR              R0,  =0xE000ED0C ; Ó¦ÓÃ³ÌÐòÖÐ¶Ï
                                                            ¼°¸´Î»¿ØÖÆ¼Ä´æÆ÷  
  141 0000000A 4962            LDR              R1,   =0x05FA0500 ; Ê¹ÓÃÓÅÏÈ¼¶×
                                                            é5 (2/6)  
  142 0000000C 6001            STR              R1,  [R0]   ; ÉèÖÃÓÅÏÈ¼¶×é  ...
                                                              
  143 0000000E F04F 0408       MOV              R4,  #8     ; ROMÖÐµÄÏòÁ¿±í  
  144 00000012 4D61            LDR              R5,  =(__Vectors+8)
  145 00000014 CC03            LDMIA            R4!, {R0-R1} ; ¶ÁÈ¡NMIºÍÓ²fault
                                                            µÄÏòÁ¿    
  146 00000016 C503            STMIA            R5!, {R0-R1} ; ¿½±´ËüÃÇµÄÏòÁ¿µ½
                                                            ÐÂ±íÖÐ  ...  
  147 00000018 4860            LDR              R0,  =0xE000ED08 ; ÏòÁ¿±íÆ«ÒÆÁ¿
                                                            ¼Ä´æÆ÷µÄµØÖ·  
  148 0000001A 4961            LDR              R1,  =__Vectors
  149 0000001C 6001            STR              R1,  [R0]   ; °ÑÏòÁ¿±íÖØ¶¨Î»  .
                                                            ..  
  150 0000001E 4861            LDR              R0,  =EXTI0_IRQHandler ; È¡µÃIR
                                                            Q #7·þÎñÀý³ÌµÄÈë¿Úµ
                                                            ØÖ·  
  151 00000020 495E            LDR              R1,  =0xE000ED08 ; ÏòÁ¿±íÆ«ÒÆÁ¿
                                                            ¼Ä´æÆ÷µÄµØÖ·  
  152 00000022 6809            LDR              R1,  [R1]
  153 00000024 F101 015C       ADD              R1,  R1,#(4*(7+16)) ; ¼ÆËãIRQ #
                                                            7·þÎñÀý³ÌµÄÈë¿ÚµØÖ·
                                                                
  154 00000028 6008            STR              R0,  [R1]   ; ÔÚÏòÁ¿±íÖÐÐ´ÈëIRQ
                                                             #7·þÎñÀý³ÌµÄÈë¿ÚµØ
                                                            Ö·  ...  
  155 0000002A 485F            LDR              R0,  =0xE000E400 ; Íâ²¿ÖÐ¶ÏÓÅÏÈ
                                                            ¼¶¼Ä´æÆ÷ÕóÁÐµÄ»ùµØÖ
                                                            ·  
  156 0000002C F04F 01C0       MOV              R1,  #0xC0
  157 00000030 71C1            STRB             R1, [R0,#7] ; °ÑIRQ #7µÄÓÅÏÈ¼¶É
                                                            èÖÃÎª0xC0  ...  
  158 00000032 485E            LDR              R0,  =0xE000E100 ; SETEN¼Ä´æÆ÷µ
                                                            ÄµØÖ·  
  159 00000034 F04F 0180       MOV              R1,  #(1<<7) ; ÖÃÎ»IRQ #7µÄÊ¹ÄÜ
                                                            Î»  
  160 00000038 6001            STR              R1,  [R0]   ; Ê¹ÄÜIRQ #7  
  161 0000003A 495D            LDR              R1,=RCC_APB2ENR
  162 0000003C 6808            LDR              R0,[R1]     ;¶Á
  163 0000003E F04F 0220       LDR              R2,=IOPDEN
  164 00000042 EA40 0002       ORR              R0,R2       ;¸Ä
  165 00000046 6008            STR              R0,[R1]     ;Ð´£¬Ê¹ÄÜGPIOAÊ±ÖÓ
  166 00000048         ;LED0--PA.0 ÍÆÍìÊä³ö£¬50MHz



ARM Macro Assembler    Page 6 


  167 00000048         ;LED1--PA.1  ÍÆÍìÊä³ö£¬50MHz
  168 00000048         ;LED2--PA.2  ÍÆÍìÊä³ö£¬50MHz
  169 00000048 F243 3033       LDR              R0,=0x3333
  170 0000004C 4959            LDR              R1,=GPIOD_CRH ;PA.1\2\3¾ùÔÚµÍ¼Ä
                                                            ´æÆ÷
  171 0000004E 6008            STR              R0,[R1]
  172 00000050 BF00            NOP
  173 00000052 BF00            NOP
  174 00000054 4958            LDR              R1,=GPIOD_ODR
  175 00000056 F44F 6270       LDR              R2,=0x00000F00 ;½«PA.1\2\3Êä³ö¸
                                                            ßµçÆ½
  176 0000005A F04F 0301       MOV              R3,#1
  177 0000005E         LOOP
  178 0000005E 600A            STR              R2,[R1]
  179 00000060 4856            LDR              R0,=7200000 ;1125/9=125ms
  180 00000062 F000 F889       BL.W             SysTick_Wait
  181 00000066 F482 7280       EOR              R2,#LED0    ;·­×ªLED3
  182 0000006A F103 0301       ADD              R3,#1       ;¼ÆÊý¼Ó1
  183 0000006E         
  184 0000006E 2B01            CMP              R3,#1
  185 00000070 D00A            BEQ              STATE1
  186 00000072 2B03            CMP              R3,#3
  187 00000074 D00D            BEQ              STATE2
  188 00000076 2B05            CMP              R3,#5
  189 00000078 D00E            BEQ              STATE3
  190 0000007A 2B07            CMP              R3,#7
  191 0000007C D011            BEQ              STATE4
  192 0000007E 2B08            CMP              R3,#8
  193 00000080 D014            BEQ              STATE6
  194 00000082 2B0A            CMP              R3,#10
  195 00000084 D010            BEQ              STATE5
  196 00000086 E014            B                GOON
  197 00000088         
  198 00000088         STATE1                               ;×´Ì¬1
  199 00000088 F482 7200       EOR              R2,#LED1
  200 0000008C F482 6280       EOR              R2,#LED2
  201 00000090 E00F            B                GOON
  202 00000092         STATE2                               ;×´Ì¬2
  203 00000092 F482 6280       EOR              R2,#LED2
  204 00000096 E00C            B                GOON
  205 00000098         STATE3                               ;×´Ì¬3
  206 00000098 F482 7200       EOR              R2,#LED1
  207 0000009C F482 6280       EOR              R2,#LED2
  208 000000A0 E007            B                GOON
  209 000000A2         STATE4                               ;×´Ì¬4
  210 000000A2 F482 6280       EOR              R2,#LED2
  211 000000A6 E004            B                GOON
  212 000000A8         STATE5                               ;×´Ì¬5
  213 000000A8 F04F 0300       MOV              R3,#0
  214 000000AC         STATE6                               ;×´Ì¬4
  215 000000AC F482 6200       EOR              R2,#LED3
  216 000000B0 E7FF            B                GOON
  217 000000B2         GOON
  218 000000B2 E7D4            B                LOOP        ;¼ÌÐøÑ­»·
  219 000000B4                 ENDP
  220 000000B4         
  221 000000B4         ; Dummy Exception Handlers (infinite loops which can be 
                       modified)
  222 000000B4         



ARM Macro Assembler    Page 7 


  223 000000B4         NMI_Handler
                               PROC
  224 000000B4                 EXPORT           NMI_Handler                [WEA
K]
  225 000000B4 E7FE            B                .
  226 000000B6                 ENDP
  228 000000B6         HardFault_Handler
                               PROC
  229 000000B6                 EXPORT           HardFault_Handler          [WEA
K]
  230 000000B6 E7FE            B                .
  231 000000B8                 ENDP
  233 000000B8         MemManage_Handler
                               PROC
  234 000000B8                 EXPORT           MemManage_Handler          [WEA
K]
  235 000000B8 E7FE            B                .
  236 000000BA                 ENDP
  238 000000BA         BusFault_Handler
                               PROC
  239 000000BA                 EXPORT           BusFault_Handler           [WEA
K]
  240 000000BA E7FE            B                .
  241 000000BC                 ENDP
  243 000000BC         UsageFault_Handler
                               PROC
  244 000000BC                 EXPORT           UsageFault_Handler         [WEA
K]
  245 000000BC E7FE            B                .
  246 000000BE                 ENDP
  247 000000BE         SVC_Handler
                               PROC
  248 000000BE                 EXPORT           SVC_Handler                [WEA
K]
  249 000000BE E7FE            B                .
  250 000000C0                 ENDP
  252 000000C0         DebugMon_Handler
                               PROC
  253 000000C0                 EXPORT           DebugMon_Handler           [WEA
K]
  254 000000C0 E7FE            B                .
  255 000000C2                 ENDP
  256 000000C2         PendSV_Handler
                               PROC
  257 000000C2                 EXPORT           PendSV_Handler             [WEA
K]
  258 000000C2 E7FE            B                .
  259 000000C4                 ENDP
  260 000000C4         SysTick_Handler
                               PROC
  261 000000C4                 EXPORT           SysTick_Handler            [WEA
K]
  262 000000C4 E7FE            B                .
  263 000000C6                 ENDP
  264 000000C6         
  265 000000C6         Default_Handler
                               PROC
  266 000000C6         
  267 000000C6                 EXPORT           WWDG_IRQHandler            [WEA



ARM Macro Assembler    Page 8 


K]
  268 000000C6                 EXPORT           PVD_IRQHandler             [WEA
K]
  269 000000C6                 EXPORT           TAMPER_IRQHandler          [WEA
K]
  270 000000C6                 EXPORT           RTC_IRQHandler             [WEA
K]
  271 000000C6                 EXPORT           FLASH_IRQHandler           [WEA
K]
  272 000000C6                 EXPORT           RCC_IRQHandler             [WEA
K]
  273 000000C6                 EXPORT           EXTI0_IRQHandler           [WEA
K]
  274 000000C6                 EXPORT           EXTI1_IRQHandler           [WEA
K]
  275 000000C6                 EXPORT           EXTI2_IRQHandler           [WEA
K]
  276 000000C6                 EXPORT           EXTI3_IRQHandler           [WEA
K]
  277 000000C6                 EXPORT           EXTI4_IRQHandler           [WEA
K]
  278 000000C6                 EXPORT           DMA1_Channel1_IRQHandler   [WEA
K]
  279 000000C6                 EXPORT           DMA1_Channel2_IRQHandler   [WEA
K]
  280 000000C6                 EXPORT           DMA1_Channel3_IRQHandler   [WEA
K]
  281 000000C6                 EXPORT           DMA1_Channel4_IRQHandler   [WEA
K]
  282 000000C6                 EXPORT           DMA1_Channel5_IRQHandler   [WEA
K]
  283 000000C6                 EXPORT           DMA1_Channel6_IRQHandler   [WEA
K]
  284 000000C6                 EXPORT           DMA1_Channel7_IRQHandler   [WEA
K]
  285 000000C6                 EXPORT           ADC1_2_IRQHandler          [WEA
K]
  286 000000C6                 EXPORT           USB_HP_CAN1_TX_IRQHandler  [WEA
K]
  287 000000C6                 EXPORT           USB_LP_CAN1_RX0_IRQHandler [WEA
K]
  288 000000C6                 EXPORT           CAN1_RX1_IRQHandler        [WEA
K]
  289 000000C6                 EXPORT           CAN1_SCE_IRQHandler        [WEA
K]
  290 000000C6                 EXPORT           EXTI9_5_IRQHandler         [WEA
K]
  291 000000C6                 EXPORT           TIM1_BRK_IRQHandler        [WEA
K]
  292 000000C6                 EXPORT           TIM1_UP_IRQHandler         [WEA
K]
  293 000000C6                 EXPORT           TIM1_TRG_COM_IRQHandler    [WEA
K]
  294 000000C6                 EXPORT           TIM1_CC_IRQHandler         [WEA
K]
  295 000000C6                 EXPORT           TIM2_IRQHandler            [WEA
K]
  296 000000C6                 EXPORT           TIM3_IRQHandler            [WEA
K]



ARM Macro Assembler    Page 9 


  297 000000C6                 EXPORT           TIM4_IRQHandler            [WEA
K]
  298 000000C6                 EXPORT           I2C1_EV_IRQHandler         [WEA
K]
  299 000000C6                 EXPORT           I2C1_ER_IRQHandler         [WEA
K]
  300 000000C6                 EXPORT           I2C2_EV_IRQHandler         [WEA
K]
  301 000000C6                 EXPORT           I2C2_ER_IRQHandler         [WEA
K]
  302 000000C6                 EXPORT           SPI1_IRQHandler            [WEA
K]
  303 000000C6                 EXPORT           SPI2_IRQHandler            [WEA
K]
  304 000000C6                 EXPORT           USART1_IRQHandler          [WEA
K]
  305 000000C6                 EXPORT           USART2_IRQHandler          [WEA
K]
  306 000000C6                 EXPORT           USART3_IRQHandler          [WEA
K]
  307 000000C6                 EXPORT           EXTI15_10_IRQHandler       [WEA
K]
  308 000000C6                 EXPORT           RTCAlarm_IRQHandler        [WEA
K]
  309 000000C6                 EXPORT           USBWakeUp_IRQHandler       [WEA
K]
  310 000000C6         
  311 000000C6         WWDG_IRQHandler
  312 000000C6         PVD_IRQHandler
  313 000000C6         TAMPER_IRQHandler
  314 000000C6         RTC_IRQHandler
  315 000000C6         FLASH_IRQHandler
  316 000000C6         RCC_IRQHandler
  317 000000C6         EXTI0_IRQHandler
  318 000000C6         EXTI1_IRQHandler
  319 000000C6         EXTI2_IRQHandler
  320 000000C6         EXTI3_IRQHandler
  321 000000C6         EXTI4_IRQHandler
  322 000000C6         DMA1_Channel1_IRQHandler
  323 000000C6         DMA1_Channel2_IRQHandler
  324 000000C6         DMA1_Channel3_IRQHandler
  325 000000C6         DMA1_Channel4_IRQHandler
  326 000000C6         DMA1_Channel5_IRQHandler
  327 000000C6         DMA1_Channel6_IRQHandler
  328 000000C6         DMA1_Channel7_IRQHandler
  329 000000C6         ADC1_2_IRQHandler
  330 000000C6         USB_HP_CAN1_TX_IRQHandler
  331 000000C6         USB_LP_CAN1_RX0_IRQHandler
  332 000000C6         CAN1_RX1_IRQHandler
  333 000000C6         CAN1_SCE_IRQHandler
  334 000000C6         EXTI9_5_IRQHandler
  335 000000C6         TIM1_BRK_IRQHandler
  336 000000C6         TIM1_UP_IRQHandler
  337 000000C6         TIM1_TRG_COM_IRQHandler
  338 000000C6         TIM1_CC_IRQHandler
  339 000000C6         TIM2_IRQHandler
  340 000000C6         TIM3_IRQHandler
  341 000000C6         TIM4_IRQHandler
  342 000000C6         I2C1_EV_IRQHandler



ARM Macro Assembler    Page 10 


  343 000000C6         I2C1_ER_IRQHandler
  344 000000C6         I2C2_EV_IRQHandler
  345 000000C6         I2C2_ER_IRQHandler
  346 000000C6         SPI1_IRQHandler
  347 000000C6         SPI2_IRQHandler
  348 000000C6         USART1_IRQHandler
  349 000000C6         USART2_IRQHandler
  350 000000C6         USART3_IRQHandler
  351 000000C6         EXTI15_10_IRQHandler
  352 000000C6         RTCAlarm_IRQHandler
  353 000000C6         USBWakeUp_IRQHandler
  354 000000C6         
  355 000000C6 E7FE            B                .
  356 000000C8         
  357 000000C8                 ENDP
  358 000000C8         
  359 000000C8                 ALIGN
  360 000000C8         
  361 000000C8         ;*******************************************************
                       ************************
  362 000000C8         ; User Stack and Heap initialization
  363 000000C8         ;*******************************************************
                       ************************
  364 000000C8                 IF               :DEF:__MICROLIB
  371 000000C8         
  372 000000C8                 IMPORT           __use_two_region_memory
  373 000000C8                 EXPORT           __user_initial_stackheap
  374 000000C8         
  375 000000C8         __user_initial_stackheap
  376 000000C8         
  377 000000C8 483D            LDR              R0, =  Heap_Mem
  378 000000CA 493E            LDR              R1, =(Stack_Mem + Stack_Size)
  379 000000CC 4A3E            LDR              R2, = (Heap_Mem +  Heap_Size)
  380 000000CE 4B3F            LDR              R3, = Stack_Mem
  381 000000D0 4770            BX               LR
  382 000000D2         
  383 000000D2 00 00           ALIGN
  384 000000D4         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  385 000000D4         ;;;RCC  Ê±ÖÓÅäÖÃ HCLK=72MHz=HSE*9
  386 000000D4         ;;;PCLK2=HCLK  PCLK1=HCLK/2
  387 000000D4         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  388 000000D4         RCC_CONFIG_72MHZ
  389 000000D4 493E            LDR              R1,=0X40021000 ;RCC_CR
  390 000000D6 6808            LDR              R0,[R1]
  391 000000D8 F44F 3280       LDR              R2,=0X00010000 ;HSEON
  392 000000DC EA40 0002       ORR              R0,R2
  393 000000E0 6008            STR              R0,[R1]
  394 000000E2         WAIT_HSE_RDY
  395 000000E2 F44F 3200       LDR              R2,=0X00020000 ;HSERDY
  396 000000E6 6808            LDR              R0,[R1]
  397 000000E8 4010            ANDS             R0,R2
  398 000000EA 2800            CMP              R0,#0
  399 000000EC D0F9            BEQ              WAIT_HSE_RDY
  400 000000EE 4939            LDR              R1,=0X40022000 ;FLASH_ACR
  401 000000F0 F04F 0012       MOV              R0,#0X12
  402 000000F4 6008            STR              R0,[R1]
  403 000000F6 4938            LDR              R1,=0X40021004 ;RCC_CFGRÊ±ÖÓÅäÖ
                                                            Ã¼Ä´æÆ÷
  404 000000F8 6808            LDR              R0,[R1]



ARM Macro Assembler    Page 11 


  405 000000FA         ;PLL±¶ÆµÏµÊý,PCLK2,PCLK1·ÖÆµÉèÖÃ
  406 000000FA         ;HSE 9±¶ÆµPCLK2=HCLK,PCLK1=HCLK/2
  407 000000FA         ;HCLK=72MHz 0x001D0400
  408 000000FA         ;HCLK=64MHz 0x00190400
  409 000000FA         ;HCLK=48MHz 0x00110400
  410 000000FA         ;HCLK=32MHz 0x00090400
  411 000000FA         ;HCLK=24MHz 0x00050400
  412 000000FA         ;HCLK=16MHz 0x00010400
  413 000000FA 4A38            LDR              R2,=0x001D0400
  414 000000FC EA40 0002       ORR              R0,R2
  415 00000100 6008            STR              R0,[R1]
  416 00000102 4933            LDR              R1,=0X40021000 ;RCC_CR  
  417 00000104 6808            LDR              R0,[R1]
  418 00000106 F04F 7280       LDR              R2,=0X01000000 ;PLLON
  419 0000010A EA40 0002       ORR              R0,R2
  420 0000010E 6008            STR              R0,[R1]
  421 00000110         WAIT_PLL_RDY
  422 00000110 F04F 7200       LDR              R2,=0X02000000 ;PLLRDY
  423 00000114 6808            LDR              R0,[R1]
  424 00000116 4010            ANDS             R0,R2
  425 00000118 2800            CMP              R0,#0
  426 0000011A D0F9            BEQ              WAIT_PLL_RDY
  427 0000011C 492E            LDR              R1,=0X40021004 ;RCC_CFGR
  428 0000011E 6808            LDR              R0,[R1]
  429 00000120 F04F 0202       MOV              R2,#0X02
  430 00000124 EA40 0002       ORR              R0,R2
  431 00000128 6008            STR              R0,[R1]
  432 0000012A         WAIT_HCLK_USEPLL
  433 0000012A 6808            LDR              R0,[R1]
  434 0000012C F010 0008       ANDS             R0,#0X08
  435 00000130 2808            CMP              R0,#0X08
  436 00000132 D1FA            BNE              WAIT_HCLK_USEPLL
  437 00000134 4770            BX               LR
  438 00000136         
  439 00000136         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  440 00000136         ;ÑÓÊ±R0£¨ms£©£¬Îó²î((R0-1)*4+12)/8 us
  441 00000136         ;ÑÓÊ±½Ï³¤Ê±£¬Îó²îÐ¡ÓÚ0.1%
  442 00000136         DELAY_NMS
  443 00000136 B402            PUSH             {R1}        ;2¸öÖÜÆÚ
  444 00000138         DELAY_NMSLOOP
  445 00000138 F1A0 0001       SUB              R0,#1
  446 0000013C F44F 717A       MOV              R1,#1000
  447 00000140         DELAY_ONEUS
  448 00000140 F1A1 0101       SUB              R1,#1
  449 00000144 BF00            NOP
  450 00000146 BF00            NOP
  451 00000148 BF00            NOP
  452 0000014A 2900            CMP              R1,#0
  453 0000014C D1F8            BNE              DELAY_ONEUS
  454 0000014E 2800            CMP              R0,#0
  455 00000150 D1F2            BNE              DELAY_NMSLOOP
  456 00000152 BC02            POP              {R1}
  457 00000154 4770            BX               LR
  458 00000156         
  459 00000156         SysTick_Init
  460 00000156         ; disable SysTick during setup
  461 00000156 4922            LDR              R1, =NVIC_ST_CTRL_R
  462 00000158 F04F 0000       MOV              R0, #0      ; Clear Enable     
                                                                



ARM Macro Assembler    Page 12 


  463 0000015C 6008            STR              R0, [R1]
  464 0000015E         ; set reload to maximum reload value
  465 0000015E 4921            LDR              R1, =NVIC_ST_RELOAD_R
  466 00000160 F06F 407F       LDR              R0, =0x00FFFFFF ;    ; Specify 
                                                            RELOAD value
  467 00000164 6008            STR              R0, [R1]    ; reload at maximum
                                                                   
  468 00000166         ; writing any value to CURRENT clears it
  469 00000166 4920            LDR              R1, =NVIC_ST_CURRENT_R
  470 00000168 F04F 0000       MOV              R0, #0
  471 0000016C 6008            STR              R0, [R1]    ; clear counter
  472 0000016E         ; enable SysTick with core clock
  473 0000016E 491C            LDR              R1, =NVIC_ST_CTRL_R
  474 00000170 F04F 0005       MOV              R0, #0x0005 ; Enable but no int
                                                            errupts (later)
  475 00000174 6008            STR              R0, [R1]    ; ENABLE and CLK_SR
                                                            C bits set
  476 00000176 4770            BX               LR
  477 00000178         
  478 00000178         SysTick_Wait
  479 00000178 F1A0 0001       SUB              R0, R0, #1  ; delay-1
  480 0000017C 4E19            LDR              R6, =NVIC_ST_RELOAD_R
  481 0000017E 6030            STR              R0, [R6]    ; time to wait
  482 00000180 4E19            LDR              R6, =NVIC_ST_CURRENT_R
  483 00000182 6030            STR              R0, [R6]    ; any value written
                                                             to CURRENT clears
  484 00000184 4E16            LDR              R6, =NVIC_ST_CTRL_R
  485 00000186         SysTick_Wait_loop
  486 00000186 6830            LDR              R0, [R6]    ; read status
  487 00000188 F410 3080       ANDS             R0, R0, #0x00010000 ; bit 16 is
                                                             COUNT flag
  488 0000018C D0FB            BEQ              SysTick_Wait_loop ; repeat unti
                                                            l flag set
  489 0000018E 4770            BX               LR
  490 00000190         
  491 00000190         
  492 00000190                 ENDIF
  493 00000190         
  494 00000190                 END
              E000ED0C 
              05FA0500 
              00000008 
              E000ED08 
              00000000 
              00000000 
              E000E400 
              E000E100 
              40021018 
              40011404 
              4001140C 
              006DDD00 
              00000000 
              00000400 
              00000200 
              00000000 
              40021000 
              40022000 
              40021004 
              001D0400 



ARM Macro Assembler    Page 13 


              E000E010 
              E000E014 
              E000E018 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M3 --apcs=interw
ork --depend=.\objects\starp.d -o.\objects\starp.o -I"D:\wjyl\exti assemble\RTE
" -ID:\Keil_v5\ARM\PACK\Keil\STM32F1xx_DFP\2.1.0\Device\Include -ID:\Keil_v5\AR
M\CMSIS\Include --predefine="__UVISION_VERSION SETA 518" --predefine="STM32F10X
_HD SETA 1" --list=.\listings\starp.lst starp.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

STACK 00000000

Symbol: STACK
   Definitions
      At line 40 in file starp.s
   Uses
      None
Comment: STACK unused
Stack_Mem 00000000

Symbol: Stack_Mem
   Definitions
      At line 41 in file starp.s
   Uses
      At line 378 in file starp.s
      At line 380 in file starp.s

__initial_sp 00000400

Symbol: __initial_sp
   Definitions
      At line 42 in file starp.s
   Uses
      At line 66 in file starp.s
Comment: __initial_sp used once
3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

HEAP 00000000

Symbol: HEAP
   Definitions
      At line 51 in file starp.s
   Uses
      None
Comment: HEAP unused
Heap_Mem 00000000

Symbol: Heap_Mem
   Definitions
      At line 53 in file starp.s
   Uses
      At line 377 in file starp.s
      At line 379 in file starp.s

__heap_base 00000000

Symbol: __heap_base
   Definitions
      At line 52 in file starp.s
   Uses
      None
Comment: __heap_base unused
__heap_limit 00000200

Symbol: __heap_limit
   Definitions
      At line 54 in file starp.s
   Uses
      None
Comment: __heap_limit unused
4 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

RESET 00000000

Symbol: RESET
   Definitions
      At line 61 in file starp.s
   Uses
      None
Comment: RESET unused
__Vectors 00000000

Symbol: __Vectors
   Definitions
      At line 66 in file starp.s
   Uses
      At line 62 in file starp.s
      At line 129 in file starp.s
      At line 144 in file starp.s
      At line 148 in file starp.s

__Vectors_End 000000EC

Symbol: __Vectors_End
   Definitions
      At line 127 in file starp.s
   Uses
      At line 63 in file starp.s
      At line 129 in file starp.s

3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 131 in file starp.s
   Uses
      None
Comment: .text unused
ADC1_2_IRQHandler 000000C6

Symbol: ADC1_2_IRQHandler
   Definitions
      At line 329 in file starp.s
   Uses
      At line 102 in file starp.s
      At line 285 in file starp.s

BusFault_Handler 000000BA

Symbol: BusFault_Handler
   Definitions
      At line 238 in file starp.s
   Uses
      At line 71 in file starp.s
      At line 239 in file starp.s

CAN1_RX1_IRQHandler 000000C6

Symbol: CAN1_RX1_IRQHandler
   Definitions
      At line 332 in file starp.s
   Uses
      At line 105 in file starp.s
      At line 288 in file starp.s

CAN1_SCE_IRQHandler 000000C6

Symbol: CAN1_SCE_IRQHandler
   Definitions
      At line 333 in file starp.s
   Uses
      At line 106 in file starp.s
      At line 289 in file starp.s

DELAY_NMS 00000136

Symbol: DELAY_NMS
   Definitions
      At line 442 in file starp.s
   Uses
      None
Comment: DELAY_NMS unused
DELAY_NMSLOOP 00000138

Symbol: DELAY_NMSLOOP
   Definitions
      At line 444 in file starp.s
   Uses
      At line 455 in file starp.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

Comment: DELAY_NMSLOOP used once
DELAY_ONEUS 00000140

Symbol: DELAY_ONEUS
   Definitions
      At line 447 in file starp.s
   Uses
      At line 453 in file starp.s
Comment: DELAY_ONEUS used once
DMA1_Channel1_IRQHandler 000000C6

Symbol: DMA1_Channel1_IRQHandler
   Definitions
      At line 322 in file starp.s
   Uses
      At line 95 in file starp.s
      At line 278 in file starp.s

DMA1_Channel2_IRQHandler 000000C6

Symbol: DMA1_Channel2_IRQHandler
   Definitions
      At line 323 in file starp.s
   Uses
      At line 96 in file starp.s
      At line 279 in file starp.s

DMA1_Channel3_IRQHandler 000000C6

Symbol: DMA1_Channel3_IRQHandler
   Definitions
      At line 324 in file starp.s
   Uses
      At line 97 in file starp.s
      At line 280 in file starp.s

DMA1_Channel4_IRQHandler 000000C6

Symbol: DMA1_Channel4_IRQHandler
   Definitions
      At line 325 in file starp.s
   Uses
      At line 98 in file starp.s
      At line 281 in file starp.s

DMA1_Channel5_IRQHandler 000000C6

Symbol: DMA1_Channel5_IRQHandler
   Definitions
      At line 326 in file starp.s
   Uses
      At line 99 in file starp.s
      At line 282 in file starp.s

DMA1_Channel6_IRQHandler 000000C6

Symbol: DMA1_Channel6_IRQHandler
   Definitions
      At line 327 in file starp.s



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Relocatable symbols

   Uses
      At line 100 in file starp.s
      At line 283 in file starp.s

DMA1_Channel7_IRQHandler 000000C6

Symbol: DMA1_Channel7_IRQHandler
   Definitions
      At line 328 in file starp.s
   Uses
      At line 101 in file starp.s
      At line 284 in file starp.s

DebugMon_Handler 000000C0

Symbol: DebugMon_Handler
   Definitions
      At line 252 in file starp.s
   Uses
      At line 78 in file starp.s
      At line 253 in file starp.s

Default_Handler 000000C6

Symbol: Default_Handler
   Definitions
      At line 265 in file starp.s
   Uses
      None
Comment: Default_Handler unused
EXTI0_IRQHandler 000000C6

Symbol: EXTI0_IRQHandler
   Definitions
      At line 317 in file starp.s
   Uses
      At line 90 in file starp.s
      At line 150 in file starp.s
      At line 273 in file starp.s

EXTI15_10_IRQHandler 000000C6

Symbol: EXTI15_10_IRQHandler
   Definitions
      At line 351 in file starp.s
   Uses
      At line 124 in file starp.s
      At line 307 in file starp.s

EXTI1_IRQHandler 000000C6

Symbol: EXTI1_IRQHandler
   Definitions
      At line 318 in file starp.s
   Uses
      At line 91 in file starp.s
      At line 274 in file starp.s

EXTI2_IRQHandler 000000C6



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Relocatable symbols


Symbol: EXTI2_IRQHandler
   Definitions
      At line 319 in file starp.s
   Uses
      At line 92 in file starp.s
      At line 275 in file starp.s

EXTI3_IRQHandler 000000C6

Symbol: EXTI3_IRQHandler
   Definitions
      At line 320 in file starp.s
   Uses
      At line 93 in file starp.s
      At line 276 in file starp.s

EXTI4_IRQHandler 000000C6

Symbol: EXTI4_IRQHandler
   Definitions
      At line 321 in file starp.s
   Uses
      At line 94 in file starp.s
      At line 277 in file starp.s

EXTI9_5_IRQHandler 000000C6

Symbol: EXTI9_5_IRQHandler
   Definitions
      At line 334 in file starp.s
   Uses
      At line 107 in file starp.s
      At line 290 in file starp.s

FLASH_IRQHandler 000000C6

Symbol: FLASH_IRQHandler
   Definitions
      At line 315 in file starp.s
   Uses
      At line 88 in file starp.s
      At line 271 in file starp.s

GOON 000000B2

Symbol: GOON
   Definitions
      At line 217 in file starp.s
   Uses
      At line 196 in file starp.s
      At line 201 in file starp.s
      At line 204 in file starp.s
      At line 208 in file starp.s
      At line 211 in file starp.s
      At line 216 in file starp.s

HardFault_Handler 000000B6




ARM Macro Assembler    Page 5 Alphabetic symbol ordering
Relocatable symbols

Symbol: HardFault_Handler
   Definitions
      At line 228 in file starp.s
   Uses
      At line 69 in file starp.s
      At line 229 in file starp.s

I2C1_ER_IRQHandler 000000C6

Symbol: I2C1_ER_IRQHandler
   Definitions
      At line 343 in file starp.s
   Uses
      At line 116 in file starp.s
      At line 299 in file starp.s

I2C1_EV_IRQHandler 000000C6

Symbol: I2C1_EV_IRQHandler
   Definitions
      At line 342 in file starp.s
   Uses
      At line 115 in file starp.s
      At line 298 in file starp.s

I2C2_ER_IRQHandler 000000C6

Symbol: I2C2_ER_IRQHandler
   Definitions
      At line 345 in file starp.s
   Uses
      At line 118 in file starp.s
      At line 301 in file starp.s

I2C2_EV_IRQHandler 000000C6

Symbol: I2C2_EV_IRQHandler
   Definitions
      At line 344 in file starp.s
   Uses
      At line 117 in file starp.s
      At line 300 in file starp.s

LOOP 0000005E

Symbol: LOOP
   Definitions
      At line 177 in file starp.s
   Uses
      At line 218 in file starp.s
Comment: LOOP used once
MemManage_Handler 000000B8

Symbol: MemManage_Handler
   Definitions
      At line 233 in file starp.s
   Uses
      At line 70 in file starp.s
      At line 234 in file starp.s



ARM Macro Assembler    Page 6 Alphabetic symbol ordering
Relocatable symbols


NMI_Handler 000000B4

Symbol: NMI_Handler
   Definitions
      At line 223 in file starp.s
   Uses
      At line 68 in file starp.s
      At line 224 in file starp.s

PVD_IRQHandler 000000C6

Symbol: PVD_IRQHandler
   Definitions
      At line 312 in file starp.s
   Uses
      At line 85 in file starp.s
      At line 268 in file starp.s

PendSV_Handler 000000C2

Symbol: PendSV_Handler
   Definitions
      At line 256 in file starp.s
   Uses
      At line 80 in file starp.s
      At line 257 in file starp.s

RCC_CONFIG_72MHZ 000000D4

Symbol: RCC_CONFIG_72MHZ
   Definitions
      At line 388 in file starp.s
   Uses
      At line 138 in file starp.s
Comment: RCC_CONFIG_72MHZ used once
RCC_IRQHandler 000000C6

Symbol: RCC_IRQHandler
   Definitions
      At line 316 in file starp.s
   Uses
      At line 89 in file starp.s
      At line 272 in file starp.s

RTCAlarm_IRQHandler 000000C6

Symbol: RTCAlarm_IRQHandler
   Definitions
      At line 352 in file starp.s
   Uses
      At line 125 in file starp.s
      At line 308 in file starp.s

RTC_IRQHandler 000000C6

Symbol: RTC_IRQHandler
   Definitions
      At line 314 in file starp.s



ARM Macro Assembler    Page 7 Alphabetic symbol ordering
Relocatable symbols

   Uses
      At line 87 in file starp.s
      At line 270 in file starp.s

Reset_Handler 00000000

Symbol: Reset_Handler
   Definitions
      At line 135 in file starp.s
   Uses
      At line 67 in file starp.s
      At line 136 in file starp.s

SPI1_IRQHandler 000000C6

Symbol: SPI1_IRQHandler
   Definitions
      At line 346 in file starp.s
   Uses
      At line 119 in file starp.s
      At line 302 in file starp.s

SPI2_IRQHandler 000000C6

Symbol: SPI2_IRQHandler
   Definitions
      At line 347 in file starp.s
   Uses
      At line 120 in file starp.s
      At line 303 in file starp.s

START 00000000

Symbol: START
   Definitions
      At line 137 in file starp.s
   Uses
      None
Comment: START unused
STATE1 00000088

Symbol: STATE1
   Definitions
      At line 198 in file starp.s
   Uses
      At line 185 in file starp.s
Comment: STATE1 used once
STATE2 00000092

Symbol: STATE2
   Definitions
      At line 202 in file starp.s
   Uses
      At line 187 in file starp.s
Comment: STATE2 used once
STATE3 00000098

Symbol: STATE3
   Definitions



ARM Macro Assembler    Page 8 Alphabetic symbol ordering
Relocatable symbols

      At line 205 in file starp.s
   Uses
      At line 189 in file starp.s
Comment: STATE3 used once
STATE4 000000A2

Symbol: STATE4
   Definitions
      At line 209 in file starp.s
   Uses
      At line 191 in file starp.s
Comment: STATE4 used once
STATE5 000000A8

Symbol: STATE5
   Definitions
      At line 212 in file starp.s
   Uses
      At line 195 in file starp.s
Comment: STATE5 used once
STATE6 000000AC

Symbol: STATE6
   Definitions
      At line 214 in file starp.s
   Uses
      At line 193 in file starp.s
Comment: STATE6 used once
SVC_Handler 000000BE

Symbol: SVC_Handler
   Definitions
      At line 247 in file starp.s
   Uses
      At line 77 in file starp.s
      At line 248 in file starp.s

SysTick_Handler 000000C4

Symbol: SysTick_Handler
   Definitions
      At line 260 in file starp.s
   Uses
      At line 81 in file starp.s
      At line 261 in file starp.s

SysTick_Init 00000156

Symbol: SysTick_Init
   Definitions
      At line 459 in file starp.s
   Uses
      At line 139 in file starp.s
Comment: SysTick_Init used once
SysTick_Wait 00000178

Symbol: SysTick_Wait
   Definitions
      At line 478 in file starp.s



ARM Macro Assembler    Page 9 Alphabetic symbol ordering
Relocatable symbols

   Uses
      At line 180 in file starp.s
Comment: SysTick_Wait used once
SysTick_Wait_loop 00000186

Symbol: SysTick_Wait_loop
   Definitions
      At line 485 in file starp.s
   Uses
      At line 488 in file starp.s
Comment: SysTick_Wait_loop used once
TAMPER_IRQHandler 000000C6

Symbol: TAMPER_IRQHandler
   Definitions
      At line 313 in file starp.s
   Uses
      At line 86 in file starp.s
      At line 269 in file starp.s

TIM1_BRK_IRQHandler 000000C6

Symbol: TIM1_BRK_IRQHandler
   Definitions
      At line 335 in file starp.s
   Uses
      At line 108 in file starp.s
      At line 291 in file starp.s

TIM1_CC_IRQHandler 000000C6

Symbol: TIM1_CC_IRQHandler
   Definitions
      At line 338 in file starp.s
   Uses
      At line 111 in file starp.s
      At line 294 in file starp.s

TIM1_TRG_COM_IRQHandler 000000C6

Symbol: TIM1_TRG_COM_IRQHandler
   Definitions
      At line 337 in file starp.s
   Uses
      At line 110 in file starp.s
      At line 293 in file starp.s

TIM1_UP_IRQHandler 000000C6

Symbol: TIM1_UP_IRQHandler
   Definitions
      At line 336 in file starp.s
   Uses
      At line 109 in file starp.s
      At line 292 in file starp.s

TIM2_IRQHandler 000000C6

Symbol: TIM2_IRQHandler



ARM Macro Assembler    Page 10 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 339 in file starp.s
   Uses
      At line 112 in file starp.s
      At line 295 in file starp.s

TIM3_IRQHandler 000000C6

Symbol: TIM3_IRQHandler
   Definitions
      At line 340 in file starp.s
   Uses
      At line 113 in file starp.s
      At line 296 in file starp.s

TIM4_IRQHandler 000000C6

Symbol: TIM4_IRQHandler
   Definitions
      At line 341 in file starp.s
   Uses
      At line 114 in file starp.s
      At line 297 in file starp.s

USART1_IRQHandler 000000C6

Symbol: USART1_IRQHandler
   Definitions
      At line 348 in file starp.s
   Uses
      At line 121 in file starp.s
      At line 304 in file starp.s

USART2_IRQHandler 000000C6

Symbol: USART2_IRQHandler
   Definitions
      At line 349 in file starp.s
   Uses
      At line 122 in file starp.s
      At line 305 in file starp.s

USART3_IRQHandler 000000C6

Symbol: USART3_IRQHandler
   Definitions
      At line 350 in file starp.s
   Uses
      At line 123 in file starp.s
      At line 306 in file starp.s

USBWakeUp_IRQHandler 000000C6

Symbol: USBWakeUp_IRQHandler
   Definitions
      At line 353 in file starp.s
   Uses
      At line 126 in file starp.s
      At line 309 in file starp.s



ARM Macro Assembler    Page 11 Alphabetic symbol ordering
Relocatable symbols


USB_HP_CAN1_TX_IRQHandler 000000C6

Symbol: USB_HP_CAN1_TX_IRQHandler
   Definitions
      At line 330 in file starp.s
   Uses
      At line 103 in file starp.s
      At line 286 in file starp.s

USB_LP_CAN1_RX0_IRQHandler 000000C6

Symbol: USB_LP_CAN1_RX0_IRQHandler
   Definitions
      At line 331 in file starp.s
   Uses
      At line 104 in file starp.s
      At line 287 in file starp.s

UsageFault_Handler 000000BC

Symbol: UsageFault_Handler
   Definitions
      At line 243 in file starp.s
   Uses
      At line 72 in file starp.s
      At line 244 in file starp.s

WAIT_HCLK_USEPLL 0000012A

Symbol: WAIT_HCLK_USEPLL
   Definitions
      At line 432 in file starp.s
   Uses
      At line 436 in file starp.s
Comment: WAIT_HCLK_USEPLL used once
WAIT_HSE_RDY 000000E2

Symbol: WAIT_HSE_RDY
   Definitions
      At line 394 in file starp.s
   Uses
      At line 399 in file starp.s
Comment: WAIT_HSE_RDY used once
WAIT_PLL_RDY 00000110

Symbol: WAIT_PLL_RDY
   Definitions
      At line 421 in file starp.s
   Uses
      At line 426 in file starp.s
Comment: WAIT_PLL_RDY used once
WWDG_IRQHandler 000000C6

Symbol: WWDG_IRQHandler
   Definitions
      At line 311 in file starp.s
   Uses
      At line 84 in file starp.s



ARM Macro Assembler    Page 12 Alphabetic symbol ordering
Relocatable symbols

      At line 267 in file starp.s

__user_initial_stackheap 000000C8

Symbol: __user_initial_stackheap
   Definitions
      At line 375 in file starp.s
   Uses
      At line 373 in file starp.s
Comment: __user_initial_stackheap used once
75 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

BIT0 00000001

Symbol: BIT0
   Definitions
      At line 1 in file starp.s
   Uses
      None
Comment: BIT0 unused
BIT10 00000400

Symbol: BIT10
   Definitions
      At line 6 in file starp.s
   Uses
      At line 10 in file starp.s
Comment: BIT10 used once
BIT11 00000800

Symbol: BIT11
   Definitions
      At line 7 in file starp.s
   Uses
      At line 11 in file starp.s
Comment: BIT11 used once
BIT2 00000004

Symbol: BIT2
   Definitions
      At line 2 in file starp.s
   Uses
      At line 21 in file starp.s
Comment: BIT2 used once
BIT5 00000020

Symbol: BIT5
   Definitions
      At line 3 in file starp.s
   Uses
      At line 20 in file starp.s
Comment: BIT5 used once
BIT8 00000100

Symbol: BIT8
   Definitions
      At line 4 in file starp.s
   Uses
      At line 8 in file starp.s
Comment: BIT8 used once
BIT9 00000200

Symbol: BIT9
   Definitions
      At line 5 in file starp.s
   Uses
      At line 9 in file starp.s
Comment: BIT9 used once
GPIOA 40010800

Symbol: GPIOA



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 22 in file starp.s
   Uses
      None
Comment: GPIOA unused
GPIOA_CRL 40010800

Symbol: GPIOA_CRL
   Definitions
      At line 23 in file starp.s
   Uses
      None
Comment: GPIOA_CRL unused
GPIOA_IDR 40010808

Symbol: GPIOA_IDR
   Definitions
      At line 24 in file starp.s
   Uses
      None
Comment: GPIOA_IDR unused
GPIOD 40011400

Symbol: GPIOD
   Definitions
      At line 14 in file starp.s
   Uses
      None
Comment: GPIOD unused
GPIOD_BRR 40011414

Symbol: GPIOD_BRR
   Definitions
      At line 19 in file starp.s
   Uses
      None
Comment: GPIOD_BRR unused
GPIOD_BSRR 40011410

Symbol: GPIOD_BSRR
   Definitions
      At line 18 in file starp.s
   Uses
      None
Comment: GPIOD_BSRR unused
GPIOD_CRH 40011404

Symbol: GPIOD_CRH
   Definitions
      At line 16 in file starp.s
   Uses
      At line 170 in file starp.s
Comment: GPIOD_CRH used once
GPIOD_CRL 40011400

Symbol: GPIOD_CRL
   Definitions
      At line 15 in file starp.s
   Uses



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

      None
Comment: GPIOD_CRL unused
GPIOD_ODR 4001140C

Symbol: GPIOD_ODR
   Definitions
      At line 17 in file starp.s
   Uses
      At line 174 in file starp.s
Comment: GPIOD_ODR used once
Heap_Size 00000200

Symbol: Heap_Size
   Definitions
      At line 49 in file starp.s
   Uses
      At line 53 in file starp.s
      At line 379 in file starp.s

IOPAEN 00000004

Symbol: IOPAEN
   Definitions
      At line 21 in file starp.s
   Uses
      None
Comment: IOPAEN unused
IOPDEN 00000020

Symbol: IOPDEN
   Definitions
      At line 20 in file starp.s
   Uses
      At line 163 in file starp.s
Comment: IOPDEN used once
LED0 00000100

Symbol: LED0
   Definitions
      At line 8 in file starp.s
   Uses
      At line 181 in file starp.s
Comment: LED0 used once
LED1 00000200

Symbol: LED1
   Definitions
      At line 9 in file starp.s
   Uses
      At line 199 in file starp.s
      At line 206 in file starp.s

LED2 00000400

Symbol: LED2
   Definitions
      At line 10 in file starp.s
   Uses
      At line 200 in file starp.s



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Absolute symbols

      At line 203 in file starp.s
      At line 207 in file starp.s
      At line 210 in file starp.s

LED3 00000800

Symbol: LED3
   Definitions
      At line 11 in file starp.s
   Uses
      At line 215 in file starp.s
Comment: LED3 used once
NVIC_AIRCR E000ED0C

Symbol: NVIC_AIRCR
   Definitions
      At line 32 in file starp.s
   Uses
      None
Comment: NVIC_AIRCR unused
NVIC_BASE E000E000

Symbol: NVIC_BASE
   Definitions
      At line 28 in file starp.s
   Uses
      At line 29 in file starp.s
      At line 30 in file starp.s
      At line 31 in file starp.s
      At line 32 in file starp.s

NVIC_IPR1 E000E404

Symbol: NVIC_IPR1
   Definitions
      At line 13 in file starp.s
   Uses
      None
Comment: NVIC_IPR1 unused
NVIC_IRQPRI E000E400

Symbol: NVIC_IRQPRI
   Definitions
      At line 30 in file starp.s
   Uses
      None
Comment: NVIC_IRQPRI unused
NVIC_ISER0 E000E100

Symbol: NVIC_ISER0
   Definitions
      At line 12 in file starp.s
   Uses
      None
Comment: NVIC_ISER0 unused
NVIC_SETEN E000E010

Symbol: NVIC_SETEN
   Definitions



ARM Macro Assembler    Page 5 Alphabetic symbol ordering
Absolute symbols

      At line 29 in file starp.s
   Uses
      None
Comment: NVIC_SETEN unused
NVIC_ST_CTRL_R E000E010

Symbol: NVIC_ST_CTRL_R
   Definitions
      At line 34 in file starp.s
   Uses
      At line 461 in file starp.s
      At line 473 in file starp.s
      At line 484 in file starp.s

NVIC_ST_CURRENT_R E000E018

Symbol: NVIC_ST_CURRENT_R
   Definitions
      At line 36 in file starp.s
   Uses
      At line 469 in file starp.s
      At line 482 in file starp.s

NVIC_ST_RELOAD_R E000E014

Symbol: NVIC_ST_RELOAD_R
   Definitions
      At line 35 in file starp.s
   Uses
      At line 465 in file starp.s
      At line 480 in file starp.s

NVIC_VECTTBL E000ED08

Symbol: NVIC_VECTTBL
   Definitions
      At line 31 in file starp.s
   Uses
      None
Comment: NVIC_VECTTBL unused
RCC_APB2ENR 40021018

Symbol: RCC_APB2ENR
   Definitions
      At line 25 in file starp.s
   Uses
      At line 161 in file starp.s
Comment: RCC_APB2ENR used once
Stack_Size 00000400

Symbol: Stack_Size
   Definitions
      At line 38 in file starp.s
   Uses
      At line 41 in file starp.s
      At line 378 in file starp.s

__Vectors_Size 000000EC




ARM Macro Assembler    Page 6 Alphabetic symbol ordering
Absolute symbols

Symbol: __Vectors_Size
   Definitions
      At line 129 in file starp.s
   Uses
      At line 64 in file starp.s
Comment: __Vectors_Size used once
36 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

__use_two_region_memory 00000000

Symbol: __use_two_region_memory
   Definitions
      At line 372 in file starp.s
   Uses
      None
Comment: __use_two_region_memory unused
1 symbol
458 symbols in table
